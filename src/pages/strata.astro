---
import PageLayout from "../layouts/page-layout.astro";
import TableHead from "../components/table-head.astro";
import TabulatorTable from "@/components/tabulator-table.svelte";
import { strataTableConfig } from "@/lib/tabulator-table-configs.js";
import strata from "@/content/data/strata.json";

// Transform data and prepare columns for Tabulator Table
const tableData = strataTableConfig.transformData(strata);
const columns = strataTableConfig.getColumns();
const rowClickConfig = strataTableConfig.getRowClickConfig;
---

<PageLayout title="strata">
	<TableHead title="Strata" definition="TBD">
		<TabulatorTable
			client:only="svelte"
			data={tableData}
			columns={columns}
			tableId="strata-table"
			downloadTitle="hit_strata"
			rowClickConfig={rowClickConfig}
			updateMapOnFilter={true}
			mapIdField="hit_id"
		/>
	</TableHead>
</PageLayout>

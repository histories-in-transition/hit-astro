---
import PageLayout from "../layouts/page-layout.astro"; 
import mss from "../content/data/manuscripts.json";
import Button from "../components/button.astro";
//import {createIcons, ArrowRight, CircleCheckBig} from 'lucide';
// createIcons({ icons: {
//   ArrowRight,
//   CircleCheckBig
// } });

---


<PageLayout>
  <style>
    /* To make the table rows striped */
    tr:nth-child(even) {
      background-color: #fff8f7;
    }
    tr:nth-child(odd) {
      background-color: #fcf1e8;
    }
   
  </style>

<div class="mx-auto p-4 lg:w-4/5">
		<div>
			<div class="flex justify-between align-middle mb-2">
        <h2 class="text-2xl font-semibold text-brandRed py-2">Handschriften</h2>
        <Button>Download CSV</Button>
        
    </div>
      <table id="hit-mss-table" class="w-full text-brandBrown table-fixed shadow-md border lg:leading-7 text-sm lg:text-base data-table">
        <thead>
          <tr>
            <th>
              <form role="search" data-search-form >
                <label class="flex flex-col items-start p-2">
                  <div>Suche Signatur</div>
                  <input type="search" name="q" placeholder="Suche Signatur ..." class="mt-2 w-full p-2 border border-gray-300 rounded font-normal">
                </label>
              </form>              
            </th>
            <th>
              <form role="search" data-search-form >
                <label class="flex flex-col items-start p-2">
                  <div>Suche Ort</div>
                  <input type="search" name="q" placeholder="Suche Ort ..." class="mt-2 w-full p-2 border border-gray-300 rounded font-normal">
                </label>
              </form>
            </th>
            <th>
              <form role="search" data-search-form >
                <label class="flex flex-col items-start p-2">
                  <div>Suche Bibliothek</div>
                  <input type="search" name="q" placeholder="Suche Bibliothek ..." class="mt-2 w-full p-2 border border-gray-300 rounded font-normal">
                </label>
              </form>
            </th>
            <th scope="col">
              Digitalisat
            </th>
            <th scope="col">
              Catalog Entry
            </th>
          </tr>
        </thead>
               
              
        <tbody>
            {Object.values(mss).map((ms) => (
              <tr tabindex="0">
                <td class="px-3">
                    <a href=`/manuscripts/${ms.hit_id}` class="hover:text-brandRed hover:font-semibold">{ms.shelfmark[0]?.value}</a>
                </td>
                <td class="px-3">
                  {ms.library_full[0]?.settlement[0]?.name}
                </td>
                <td class="px-3 truncate">
                    {ms.library_full[0]?.library_full}                   
                  <a href=""></a>
                </td>
                
                <td class="px-3">
                  {ms.digi_url && (
             <div class="flex text-wrap">                
                <a href={ms.digi_url} class="inline-flex hover:text-brandRed">
                    <span><i data-lucide="circle-check-big"></i></span>                     
                </a>
            </div>
           
          )}
                </td>
                <td class="px-3">
                   {ms.catalog_url && (
           <div class="flex">
                <a href={ms.catalog_url} class="inline-flex hover:text-brandRed">
                    <section>Catalog entry</section>                 
                    
                </a>
            </div>            
        )}
                </td>
              </tr>
              ))}
            
            
        </tbody>
             
            </table>
     
            
         
		</div>
	</div>
  <script src="../lib/table-search.js"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js">
    lucide.createIcons();
  </script>
</PageLayout>